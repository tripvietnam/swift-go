/* AI Chat Widget Styles */
.ai-chat{position:fixed;bottom:20px;right:20px;z-index:1000;font-family:Inter,system-ui,sans-serif}
.ai-chat-toggle{background:var(--primary);color:#fff;border:none;padding:12px 16px;border-radius:999px;font-weight:600;cursor:pointer;box-shadow:var(--shadow);display:flex;align-items:center;gap:6px;transition:background .15s,transform .15s}
.ai-chat-toggle:hover{background:var(--primary-600);transform:translateY(-2px)}
.ai-chat-panel{position:absolute;bottom:66px;right:0;width:360px;max-height:640px;display:flex;flex-direction:column;background:#fff;border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);overflow:hidden;opacity:0;pointer-events:none;transform:translateY(8px);transition:opacity .2s,transform .2s}
.ai-chat-panel.open{opacity:1;pointer-events:auto;transform:translateY(0)}
.ai-chat-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--line);background:linear-gradient(90deg,#f8fbff,#eef4ff)}
.ai-chat-title{font-weight:600;font-size:15px}
.ai-chat-close{all:unset;cursor:pointer;font-size:20px;line-height:1;padding:4px 8px;border-radius:8px}
.ai-chat-close:hover{background:var(--bg-soft)}
.ai-chat-messages{flex:1;overflow-y:auto;padding:14px 16px;display:flex;flex-direction:column;gap:12px;background:radial-gradient(120% 100% at 100% 0%,#f5f9ff 0%,#ffffff 60%)}
.ai-msg{display:flex;gap:10px;align-items:flex-start}
.ai-avatar{width:32px;height:32px;border-radius:999px;background:#1a73e8;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:13px;flex-shrink:0}
.ai-avatar.user{background:#003b95}
.ai-avatar.assistant{background:#16a34a}
.ai-avatar.system{background:#1e293b}
.ai-bubble{max-width:75%;padding:10px 14px;border-radius:18px;border:1px solid var(--line);background:#fff;line-height:1.45;font-size:14px;white-space:pre-wrap}
.ai-bubble.user{background:#003b95;color:#fff;border-color:#003b95}
.ai-bubble.assistant{background:#fff}
.ai-bubble.system{background:#1e293b;color:#fff}
.ai-bubble.loading{position:relative;background:#eef2ff;color:#334155}
.ai-bubble.loading:after{content:"";width:6px;height:6px;border-radius:999px;box-shadow:12px 0 0 #334155,24px 0 0 #334155,0 0 0 #334155;animation:aiDots 1s infinite steps(1);position:absolute;top:14px;left:14px}
.ai-chat-form{display:flex;flex-direction:column;gap:8px;padding:12px 14px;border-top:1px solid var(--line);background:#fff}
.ai-chat-input{width:100%;resize:vertical;min-height:56px;font:inherit;padding:10px 12px;border-radius:14px;border:1px solid var(--line);background:#fff;outline:none}
.ai-chat-input:focus{box-shadow:0 0 0 3px rgba(26,115,232,.25);border-color:var(--primary)}
.ai-chat-actions{display:flex;gap:10px}
.ai-clear{background:#fff;border:1px solid var(--line)}
.ai-clear:hover{background:var(--bg-soft)}
.ai-chat-hint{font-size:12px;color:var(--muted);line-height:1.4}
.ai-send{min-width:90px}
@keyframes aiDots{0%{box-shadow:0 0 0 #334155,12px 0 0 #334155,24px 0 0 #334155}33%{box-shadow:0 0 0 #334155,12px 0 0 #334155,24px 0 0 transparent}66%{box-shadow:0 0 0 #334155,12px 0 0 transparent,24px 0 0 transparent}100%{box-shadow:0 0 0 transparent,12px 0 0 transparent,24px 0 0 transparent}}
@media (max-width: 520px){.ai-chat-panel{width:100vw;right:0;bottom:72px;border-radius:24px 24px 12px 12px;max-height:70vh}.ai-bubble{max-width:82%}}
@media (prefers-color-scheme: dark){:root{--bg:#0f172a;--bg-soft:#1e293b;--text:#f1f5f9;--muted:#94a3b8;--line:#334155;--chip:#1e293b;--shadow:0 6px 24px rgba(0,0,0,.5),0 2px 8px rgba(0,0,0,.4)}body{background:var(--bg);color:var(--text)}.ai-chat-panel{background:#0f172a;border-color:#334155}.ai-chat-header{background:linear-gradient(90deg,#1e293b,#0f172a)}.ai-chat-messages{background:linear-gradient(180deg,#1e293b,#0f172a)}.ai-bubble{background:#1e293b;border-color:#334155;color:#f1f5f9}.ai-bubble.user{background:#1a73e8;border-color:#1a73e8}.ai-bubble.assistant{background:#14532d;border-color:#14532d}.ai-chat-input{background:#1e293b;border-color:#334155;color:#f1f5f9}.ai-clear{background:#1e293b;border-color:#334155;color:#f1f5f9}.ai-chat-toggle{box-shadow:0 6px 20px rgba(0,0,0,.6)}}